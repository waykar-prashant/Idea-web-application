<!DOCTYPE html>
<html ng-app="myApp">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>AdminLTE 2 | Starter</title>
<!-- Tell the browser to be responsive to screen width -->
<meta
	content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no"
	name="viewport">
<!-- Bootstrap 3.3.6 -->
<link rel="stylesheet" href="bootstrap/css/bootstrap.min.css">
<!-- Font Awesome -->
<link rel="stylesheet"
	href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.5.0/css/font-awesome.min.css">
<!-- Ionicons -->
<link rel="stylesheet"
	href="https://cdnjs.cloudflare.com/ajax/libs/ionicons/2.0.1/css/ionicons.min.css">
<!-- Theme style -->
<link rel="stylesheet" href="dist/css/AdminLTE.min.css">
<!-- AdminLTE Skins. We have chosen the skin-blue for this starter
        page. However, you can choose any other skin. Make sure you
        apply the skin class to the body tag so the changes take effect.
  -->
<link rel="stylesheet" href="dist/css/skins/skin-blue.min.css">
<style>
.bulb {
	width: 50%;
}

</style>
<style>
    .color-palette {
      height: 35px;
      line-height: 35px;
      text-align: center;
    }

    .color-palette-set {
      margin-bottom: 15px;
      margin:0px auto; 
	  text-align:center;
    }

    .color-palette span {
      display: none;
      font-size: 12px;
    }

    .color-palette:hover span {
      display: block;
    }

    .color-palette-box h4 {
      /*position: absolute;
      top: 100%;
      left: 25px;
      margin-top: -40px;*/
      color: rgba(0, 0, 0, 0.8);
      font-size: 12px;
      display: block;
      z-index: 7;
    }
    .highcharts-title tspan{
    	font-size: 13px;
    	font-weight: 700;
    }
  </style>
<!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
<!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
<!--[if lt IE 9]>
  <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
  <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
  <![endif]-->

</head>

<!--
BODY TAG OPTIONS:
=================
Apply one or more of the following classes to get the
desired effect
|---------------------------------------------------------|
| SKINS         | skin-blue                               |
|               | skin-black                              |
|               | skin-purple                             |
|               | skin-yellow                             |
|               | skin-red                                |
|               | skin-green                              |
|---------------------------------------------------------|
|LAYOUT OPTIONS | fixed                                   |
|               | layout-boxed                            |
|               | layout-top-nav                          |
|               | sidebar-collapse                        |
|               | sidebar-mini                            |
|---------------------------------------------------------|
-->
<body class="hold-transition skin-blue sidebar-mini">
	<div class="wrapper">

		<!-- Main Header -->
		<header class="main-header">

			<!-- Logo -->
			<a href="index2.html" class="logo"> <!-- mini logo for sidebar mini 50x50 pixels -->
				<span class="logo-mini"><b>A</b>LT</span> <!-- logo for regular state and mobile devices -->
				<span class="logo-lg"><b>Admin</b>LTE</span>
			</a>

			<!-- Header Navbar -->
			<nav class="navbar navbar-static-top" role="navigation">
				<!-- Sidebar toggle button-->
				<a href="#" class="sidebar-toggle" data-toggle="offcanvas"
					role="button"> <span class="sr-only">Toggle navigation</span>
				</a>
				<!-- Navbar Right Menu -->
				<div class="navbar-custom-menu">
					<ul class="nav navbar-nav">
						<!-- Messages: style can be found in dropdown.less-->
						<li class="dropdown messages-menu">
							<!-- Menu toggle button --> <a href="#" class="dropdown-toggle"
							data-toggle="dropdown"> <i class="fa fa-envelope-o"></i> <span
								class="label label-success">4</span>
						</a>
							<ul class="dropdown-menu">
								<li class="header">You have 4 messages</li>
								<li>
									<!-- inner menu: contains the messages -->
									<ul class="menu">
										<li>
											<!-- start message --> <a href="#">
												<div class="pull-left">
													<!-- User Image -->
													<img src="dist/img/user2-160x160.jpg" class="img-circle"
														alt="User Image">
												</div> <!-- Message title and timestamp -->
												<h4>
													Support Team <small><i class="fa fa-clock-o"></i> 5
														mins</small>
												</h4> <!-- The message -->
												<p>Why not buy a new awesome theme?</p>
										</a>
										</li>
										<!-- end message -->
									</ul> <!-- /.menu -->
								</li>
								<li class="footer"><a href="#">See All Messages</a></li>
							</ul>
						</li>
						<!-- /.messages-menu -->

						<!-- Notifications Menu -->
						<li class="dropdown notifications-menu">
							<!-- Menu toggle button --> <a href="#" class="dropdown-toggle"
							data-toggle="dropdown"> <i class="fa fa-bell-o"></i> <span
								class="label label-warning">10</span>
						</a>
							<ul class="dropdown-menu">
								<li class="header">You have 10 notifications</li>
								<li>
									<!-- Inner Menu: contains the notifications -->
									<ul class="menu">
										<li>
											<!-- start notification --> <a href="#"> <i
												class="fa fa-users text-aqua"></i> 5 new members joined
												today
										</a>
										</li>
										<!-- end notification -->
									</ul>
								</li>
								<li class="footer"><a href="#">View all</a></li>
							</ul>
						</li>
						<!-- Tasks Menu -->
						<li class="dropdown tasks-menu">
							<!-- Menu Toggle Button --> <a href="#" class="dropdown-toggle"
							data-toggle="dropdown"> <i class="fa fa-flag-o"></i> <span
								class="label label-danger">9</span>
						</a>
							<ul class="dropdown-menu">
								<li class="header">You have 9 tasks</li>
								<li>
									<!-- Inner menu: contains the tasks -->
									<ul class="menu">
										<li>
											<!-- Task item --> <a href="#"> <!-- Task title and progress text -->
												<h3>
													Design some buttons <small class="pull-right">20%</small>
												</h3> <!-- The progress bar -->
												<div class="progress xs">
													<!-- Change the css width attribute to simulate progress -->
													<div class="progress-bar progress-bar-aqua"
														style="width: 20%" role="progressbar" aria-valuenow="20"
														aria-valuemin="0" aria-valuemax="100">
														<span class="sr-only">20% Complete</span>
													</div>
												</div>
										</a>
										</li>
										<!-- end task item -->
									</ul>
								</li>
								<li class="footer"><a href="#">View all tasks</a></li>
							</ul>
						</li>
						<!-- User Account Menu -->
						<li class="dropdown user user-menu">
							<!-- Menu Toggle Button --> <a href="#" class="dropdown-toggle"
							data-toggle="dropdown"> <!-- The user image in the navbar-->
								<img src="dist/img/user2-160x160.jpg" class="user-image"
								alt="User Image"> <!-- hidden-xs hides the username on small devices so only the image appears. -->
								<span class="hidden-xs">Alexander Pierce</span>
						</a>
							<ul class="dropdown-menu">
								<!-- The user image in the menu -->
								<li class="user-header"><img
									src="dist/img/user2-160x160.jpg" class="img-circle"
									alt="User Image">

									<p>
										Alexander Pierce - Web Developer <small>Member since
											Nov. 2012</small>
									</p></li>
								<!-- Menu Body -->
								<li class="user-body">
									<div class="row">
										<div class="col-xs-4 text-center">
											<a href="#">Followers</a>
										</div>
										<div class="col-xs-4 text-center">
											<a href="#">Sales</a>
										</div>
										<div class="col-xs-4 text-center">
											<a href="#">Friends</a>
										</div>
									</div> <!-- /.row -->
								</li>
								<!-- Menu Footer-->
								<li class="user-footer">
									<div class="pull-left">
										<a href="#" class="btn btn-default btn-flat">Profile</a>
									</div>
									<div class="pull-right">
										<a href="#" class="btn btn-default btn-flat">Sign out</a>
									</div>
								</li>
							</ul>
						</li>
						<!-- Control Sidebar Toggle Button -->
						<li><a href="#" data-toggle="control-sidebar"><i
								class="fa fa-gears"></i></a></li>
					</ul>
				</div>
			</nav>
		</header>
		<div ng-include="'left-menu.html'"></div>


		<!-- Content Wrapper. Contains page content -->
		<div class="content-wrapper">
			<!-- Content Header (Page header) -->
			<section class="content-header">
				<h1>
					Light Analysis <small>Optimiation of power consumption</small>
				</h1>
				<ol class="breadcrumb">
					<li><a href="#"><i class="fa fa-dashboard"></i> Level</a></li>
					<li class="active">Here</li>
				</ol>
			</section>

			<!-- Main content -->
			<section class="content">
			<!-- COLOR PALETTE -->
				<div class="box box-default color-palette-box">
				  <div class="box-header with-border">
				    <h3 class="box-title"><i class="fa fa-tag"></i> Color Palette</h3>
				  </div>
				  <div class="box-body">
				    <div class="row">
				      <div class="col-sm-4 col-md-2">
				        <h4 class="text-center">Family Couch E</h4>
				        <div class="color-palette-set alignCenter">
							<img class="bulb" id="familycouche" src="dist/img/bulb_PNG1243.png">
                        </div>
				      </div>
				      <!-- /.col -->
				      <div class="col-sm-4 col-md-2">
				        <h4 class="text-center">Horse Picture</h4>
				        <div class="color-palette-set">
							<img class="bulb" id="horsepicture" src="dist/img/bulb_PNG1243.png">
                        </div>
				      </div>
				      <!-- /.col -->
				      <div class="col-sm-4 col-md-2">
				        <h4 class="text-center">Aspen</h4>
				        <div class="color-palette-set">
							<img class="bulb" id="aspen" src="dist/img/bulb_PNG1243.png">
                        </div>
				      </div>
				      <!-- /.col -->
				      <div class="col-sm-4 col-md-2">
				        <h4 class="text-center">Family W</h4>
				        <div class="color-palette-set">
							<img class="bulb" id="familyw" src="dist/img/bulb_PNG1243.png">
                        </div>
				      </div>
				      <!-- /.col -->
				      <div class="col-sm-4 col-md-2">
				        <h4 class="text-center">Family Couch W</h4>
				        <div class="color-palette-set">
							<img class="bulb" id="familycouchw" src="dist/img/bulb_PNG1243.png">
                        </div>
				      </div>
				      <!-- /.col -->
				      
				    </div>
				    <!-- /.row -->
   				    <br/>
   
				    <div class="row">
				      <div class="col-sm-4 col-md-2">
				        <h4 class="text-center">Family TV</h4>
				        <div class="color-palette-set">
							<img class="bulb" id="familytv" src="dist/img/bulb_PNG1243.png">
                        </div>
				      </div>
				      <!-- /.col -->
				      <div class="col-sm-4 col-md-2">
				        <h4 class="text-center">Round Room E</h4>
				        <div class="color-palette-set">
							<img class="bulb" id="roundroome" src="dist/img/bulb_PNG1243.png">
                        </div>
				      </div>
				      <!-- /.col -->
				      <div class="col-sm-4 col-md-2">
				        <h4 class="text-center">Round Room NW</h4>
				        <div class="color-palette-set">
							<img class="bulb" id="roundroomnw" src="dist/img/bulb_PNG1243.png">
                        </div>
				      </div>
				      <!-- /.col -->
				      <div class="col-sm-4 col-md-2">
				        <h4 class="text-center">Round Room SW</h4>
				        <div class="color-palette-set">
							<img class="bulb" id="roundroomsw" src="dist/img/bulb_PNG1243.png">
                        </div>
				      </div>
				      <!-- /.col -->
				      <div class="col-sm-4 col-md-2">
				        <h4 class="text-center">Family E</h4>
				        <div class="color-palette-set">
							<img class="bulb" id="familye" src="dist/img/bulb_PNG1243.png">
                        </div>
				      </div>
				      <!-- /.col -->
				    </div>
				    <!-- /.row -->
				    <br/>
			      <div class="row">
			        <div class="col-md-12">
			          <div class="box">
			            <div class="box-header with-border">
			              <h3 class="box-title">Monthly Recap Report</h3>
			            </div>
			            <!-- /.box-header -->
			            <div class="box-body">
			              <div class="row">
			                <div class="col-md-8">
			                  <div class="chart">
			                    <!-- Sales Chart Canvas -->
			                    <div id="chart_family_couch_e" style="min-width: 310px; height: 400px; margin: 0 auto"></div>
			                  </div>
			                  <!-- /.chart-responsive -->
			                </div>
			                <!-- /.col -->
			                <div class="col-md-4">
			                  <p class="text-center">
			                    <strong>Analysis Results</strong>
			                  </p>
			
			                  <!-- DIRECT CHAT -->
				              <div class="box box-warning direct-chat direct-chat-warning">
				                <div class="box-header with-border">
				                  <h3 class="box-title">Recommendations</h3>
				                  <div class="box-tools pull-right">
				                    <span data-toggle="tooltip" title="3 New Messages" id="tooltip_family_couch_e" class="badge bg-yellow">3</span>
				                    <button type="button" class="btn btn-box-tool" data-widget="collapse"><i class="fa fa-minus"></i>
				                    </button>
				                    <button type="button" class="btn btn-box-tool" data-toggle="tooltip" title="Recommendations" data-widget="chat-pane-toggle">
				                      <i class="fa fa-comments"></i></button>
				                    <button type="button" class="btn btn-box-tool" data-widget="remove"><i class="fa fa-times"></i>
				                    </button>
				                  </div>
				                </div>
				                <!-- /.box-header -->
				                <div class="box-body">
				                  <!-- Conversations are loaded here -->
				                  <div id="box_family_couch_e" class="direct-chat-messages">
				                  </div>
				                  <!--/.direct-chat-messages-->
				                </div>
				                <!-- /.box-body -->
				              </div>
				              <!--/.direct-chat -->
			                </div>
			                <!-- /.col -->
			              </div>
			              <!-- /.row -->
			            </div>
			            <!-- ./box-body -->
			            
			          </div>
			          <!-- /.box -->
			        </div>
			        <!-- /.col -->
			      </div>
			      <!-- /.row -->		
			      
			      
			       <div class="row">
			        <div class="col-md-12">
			          <div class="box">
			            <div class="box-header with-border">
			              <h3 class="box-title">Monthly Recap Report</h3>
			            </div>
			            <!-- /.box-header -->
			            <div class="box-body">
			              <div class="row">
			                <div class="col-md-8">
			                  <div class="chart">
			                    <!-- Sales Chart Canvas -->
			                    <div id="chart_horse_picture" style="min-width: 310px; height: 400px; margin: 0 auto"></div>
			                  </div>
			                  <!-- /.chart-responsive -->
			                </div>
			                <!-- /.col -->
			                <div class="col-md-4">
			                  <p class="text-center">
			                    <strong>Analysis Results</strong>
			                  </p>
			
			                  <!-- DIRECT CHAT -->
				              <div class="box box-warning direct-chat direct-chat-warning">
				                <div class="box-header with-border">
				                  <h3 class="box-title">Recommendations</h3>
				                  <div class="box-tools pull-right">
				                    <span data-toggle="tooltip" title="3 New Messages" id="tooltip_horse_picture" class="badge bg-yellow">3</span>
				                    <button type="button" class="btn btn-box-tool" data-widget="collapse"><i class="fa fa-minus"></i>
				                    </button>
				                    <button type="button" class="btn btn-box-tool" data-toggle="tooltip"  title="Recommendations" data-widget="chat-pane-toggle">
				                      <i class="fa fa-comments"></i></button>
				                    <button type="button" class="btn btn-box-tool" data-widget="remove"><i class="fa fa-times"></i>
				                    </button>
				                  </div>
				                </div>
				                <!-- /.box-header -->
				                <div class="box-body">
				                  <!-- Conversations are loaded here -->
				                  <div id="box_horse_picture" class="direct-chat-messages">
				                  </div>
				                  <!--/.direct-chat-messages-->
				                </div>
				                <!-- /.box-body -->
				              </div>
				              <!--/.direct-chat -->
			                </div>
			                <!-- /.col -->
			              </div>
			              <!-- /.row -->
			            </div>
			            <!-- ./box-body -->
			            
			          </div>
			          <!-- /.box -->
			        </div>
			        <!-- /.col -->
			      </div>
			      <!-- /.row -->	
			      
			      
			       <div class="row">
			        <div class="col-md-12">
			          <div class="box">
			            <div class="box-header with-border">
			              <h3 class="box-title">Monthly Recap Report</h3>
			            </div>
			            <!-- /.box-header -->
			            <div class="box-body">
			              <div class="row">
			                <div class="col-md-8">
			                  <div class="chart">
			                    <!-- Sales Chart Canvas -->
			                    <div id="chart_aspen" style="min-width: 310px; height: 400px; margin: 0 auto"></div>
			                  </div>
			                  <!-- /.chart-responsive -->
			                </div>
			                <!-- /.col -->
			                <div class="col-md-4">
			                  <p class="text-center">
			                    <strong>Analysis Results</strong>
			                  </p>
			
			                  <!-- DIRECT CHAT -->
				              <div class="box box-warning direct-chat direct-chat-warning">
				                <div class="box-header with-border">
				                  <h3 class="box-title">Recommendations</h3>
				                  <div class="box-tools pull-right">
				                    <span data-toggle="tooltip" title="3 New Messages" id="tooltip_aspen" class="badge bg-yellow">3</span>
				                    <button type="button" class="btn btn-box-tool" data-widget="collapse"><i class="fa fa-minus"></i>
				                    </button>
				                    <button type="button" class="btn btn-box-tool" data-toggle="tooltip" title="Recommendations" data-widget="chat-pane-toggle">
				                      <i class="fa fa-comments"></i></button>
				                    <button type="button" class="btn btn-box-tool" data-widget="remove"><i class="fa fa-times"></i>
				                    </button>
				                  </div>
				                </div>
				                <!-- /.box-header -->
				                <div class="box-body">
				                  <!-- Conversations are loaded here -->
				                  <div id="box_aspen" class="direct-chat-messages">
				                  </div>
				                  <!--/.direct-chat-messages-->
				                </div>
				                <!-- /.box-body -->
				              </div>
				              <!--/.direct-chat -->
			                </div>
			                <!-- /.col -->
			              </div>
			              <!-- /.row -->
			            </div>
			            <!-- ./box-body -->
			            
			          </div>
			          <!-- /.box -->
			        </div>
			        <!-- /.col -->
			      </div>
			      <!-- /.row -->	
			      
			      
			       <div class="row">
			        <div class="col-md-12">
			          <div class="box">
			            <div class="box-header with-border">
			              <h3 class="box-title">Monthly Recap Report</h3>
			            </div>
			            <!-- /.box-header -->
			            <div class="box-body">
			              <div class="row">
			                <div class="col-md-8">
			                  <div class="chart">
			                    <!-- Sales Chart Canvas -->
			                    <div id="chart_family_w" style="min-width: 310px; height: 400px; margin: 0 auto"></div>
			                  </div>
			                  <!-- /.chart-responsive -->
			                </div>
			                <!-- /.col -->
			                <div class="col-md-4">
			                  <p class="text-center">
			                    <strong>Analysis Results</strong>
			                  </p>
			
			                  <!-- DIRECT CHAT -->
				              <div class="box box-warning direct-chat direct-chat-warning">
				                <div class="box-header with-border">
				                  <h3 class="box-title">Recommendations</h3>
				                  <div class="box-tools pull-right">
				                    <span data-toggle="tooltip" title="3 New Messages" id="tooltip_family_w"  class="badge bg-yellow">3</span>
				                    <button type="button" class="btn btn-box-tool" data-widget="collapse"><i class="fa fa-minus"></i>
				                    </button>
				                    <button type="button" class="btn btn-box-tool" data-toggle="tooltip" title="Recommendations" data-widget="chat-pane-toggle">
				                      <i class="fa fa-comments"></i></button>
				                    <button type="button" class="btn btn-box-tool" data-widget="remove"><i class="fa fa-times"></i>
				                    </button>
				                  </div>
				                </div>
				                <!-- /.box-header -->
				                <div class="box-body">
				                  <!-- Conversations are loaded here -->
				                  <div id="box_family_w" class="direct-chat-messages">
				                  </div>
				                  <!--/.direct-chat-messages-->
				
				                </div>
				                <!-- /.box-body -->
				              </div>
				              <!--/.direct-chat -->
			                </div>
			                <!-- /.col -->
			              </div>
			              <!-- /.row -->
			            </div>
			            <!-- ./box-body -->
			            
			          </div>
			          <!-- /.box -->
			        </div>
			        <!-- /.col -->
			      </div>
			      <!-- /.row -->	
			      
			       <div class="row">
			        <div class="col-md-12">
			          <div class="box">
			            <div class="box-header with-border">
			              <h3 class="box-title">Monthly Recap Report</h3>
			            </div>
			            <!-- /.box-header -->
			            <div class="box-body">
			              <div class="row">
			                <div class="col-md-8">
			                  <div class="chart">
			                    <!-- Sales Chart Canvas -->
			                    <div id="chart_family_couch_w" style="min-width: 310px; height: 400px; margin: 0 auto"></div>
			                  </div>
			                  <!-- /.chart-responsive -->
			                </div>
			                <!-- /.col -->
			                <div class="col-md-4">
			                  <p class="text-center">
			                    <strong>Analysis Results</strong>
			                  </p>
			
			                  <!-- DIRECT CHAT -->
				              <div class="box box-warning direct-chat direct-chat-warning">
				                <div class="box-header with-border">
				                  <h3 class="box-title">Recommendations</h3>
				                  <div class="box-tools pull-right">
				                    <span data-toggle="tooltip" title="3 New Messages" id="tooltip_family_couch_w"  class="badge bg-yellow">3</span>
				                    <button type="button" class="btn btn-box-tool" data-widget="collapse"><i class="fa fa-minus"></i>
				                    </button>
				                    <button type="button" class="btn btn-box-tool" data-toggle="tooltip" title="Recommendations" data-widget="chat-pane-toggle">
				                      <i class="fa fa-comments"></i></button>
				                    <button type="button" class="btn btn-box-tool" data-widget="remove"><i class="fa fa-times"></i>
				                    </button>
				                  </div>
				                </div>
				                <!-- /.box-header -->
				                <div class="box-body">
				                  <!-- Conversations are loaded here -->
				                  <div id="box_family_couch_w" class="direct-chat-messages">
				                  </div>
				                  <!--/.direct-chat-messages-->
				
				                </div>
				                <!-- /.box-body -->
				              </div>
				              <!--/.direct-chat -->
			                </div>
			                <!-- /.col -->
			              </div>
			              <!-- /.row -->
			            </div>
			            <!-- ./box-body -->
			            
			          </div>
			          <!-- /.box -->
			        </div>
			        <!-- /.col -->
			      </div>
			      <!-- /.row -->	
			      
			       <div class="row">
			        <div class="col-md-12">
			          <div class="box">
			            <div class="box-header with-border">
			              <h3 class="box-title">Monthly Recap Report</h3>
			            </div>
			            <!-- /.box-header -->
			            <div class="box-body">
			              <div class="row">
			                <div class="col-md-8">
			                  <div class="chart">
			                    <!-- Sales Chart Canvas -->
			                    <div id="chart_family_tv" style="min-width: 310px; height: 400px; margin: 0 auto"></div>
			                  </div>
			                  <!-- /.chart-responsive -->
			                </div>
			                <!-- /.col -->
			                <div class="col-md-4">
			                  <p class="text-center">
			                    <strong>Analysis Results</strong>
			                  </p>
			
			                  <!-- DIRECT CHAT -->
				              <div class="box box-warning direct-chat direct-chat-warning">
				                <div class="box-header with-border">
				                  <h3 class="box-title">Recommendations</h3>
				                  <div class="box-tools pull-right">
				                    <span data-toggle="tooltip" title="3 New Messages" id="tooltip_family_tv" class="badge bg-yellow">3</span>
				                    <button type="button" class="btn btn-box-tool" data-widget="collapse"><i class="fa fa-minus"></i>
				                    </button>
				                    <button type="button" class="btn btn-box-tool" data-toggle="tooltip" title="Recommendations" data-widget="chat-pane-toggle">
				                      <i class="fa fa-comments"></i></button>
				                    <button type="button" class="btn btn-box-tool" data-widget="remove"><i class="fa fa-times"></i>
				                    </button>
				                  </div>
				                </div>
				                <!-- /.box-header -->
				                <div class="box-body">
				                  <!-- Conversations are loaded here -->
				                  <div id="box_family_tv" class="direct-chat-messages">
				                  </div>
				                  <!--/.direct-chat-messages-->
				
				                </div>
				                <!-- /.box-body -->
				              </div>
				              <!--/.direct-chat -->
			                </div>
			                <!-- /.col -->
			              </div>
			              <!-- /.row -->
			            </div>
			            <!-- ./box-body -->
			            
			          </div>
			          <!-- /.box -->
			        </div>
			        <!-- /.col -->
			      </div>
			      <!-- /.row -->	
			      
			      
			       <div class="row">
			        <div class="col-md-12">
			          <div class="box">
			            <div class="box-header with-border">
			              <h3 class="box-title">Monthly Recap Report</h3>
			            </div>
			            <!-- /.box-header -->
			            <div class="box-body">
			              <div class="row">
			                <div class="col-md-8">
			                  <div class="chart">
			                    <!-- Sales Chart Canvas -->
			                    <div id="chart_round_room_e" style="min-width: 310px; height: 400px; margin: 0 auto"></div>
			                  </div>
			                  <!-- /.chart-responsive -->
			                </div>
			                <!-- /.col -->
			                <div class="col-md-4">
			                  <p class="text-center">
			                    <strong>Analysis Results</strong>
			                  </p>
			
			                  <!-- DIRECT CHAT -->
				              <div class="box box-warning direct-chat direct-chat-warning">
				                <div class="box-header with-border">
				                  <h3 class="box-title">Recommendations</h3>
				                  <div class="box-tools pull-right">
				                    <span data-toggle="tooltip" title="3 New Messages" id="tooltip_round_room_e" class="badge bg-yellow">3</span>
				                    <button type="button" class="btn btn-box-tool" data-widget="collapse"><i class="fa fa-minus"></i>
				                    </button>
				                    <button type="button" class="btn btn-box-tool" data-toggle="tooltip" title="Recommendations" data-widget="chat-pane-toggle">
				                      <i class="fa fa-comments"></i></button>
				                    <button type="button" class="btn btn-box-tool" data-widget="remove"><i class="fa fa-times"></i>
				                    </button>
				                  </div>
				                </div>
				                <!-- /.box-header -->
				                <div class="box-body">
				                  <!-- Conversations are loaded here -->
				                  <div id="box_round_room_e" class="direct-chat-messages">
				                  </div>
				                  <!--/.direct-chat-messages-->
				                </div>
				                <!-- /.box-body -->
				              </div>
				              <!--/.direct-chat -->
			                </div>
			                <!-- /.col -->
			              </div>
			              <!-- /.row -->
			            </div>
			            <!-- ./box-body -->
			            
			          </div>
			          <!-- /.box -->
			        </div>
			        <!-- /.col -->
			      </div>
			      <!-- /.row -->	
			      
			      
			       <div class="row">
			        <div class="col-md-12">
			          <div class="box">
			            <div class="box-header with-border">
			              <h3 class="box-title">Monthly Recap Report</h3>
			            </div>
			            <!-- /.box-header -->
			            <div class="box-body">
			              <div class="row">
			                <div class="col-md-8">
			                  <div class="chart">
			                    <!-- Sales Chart Canvas -->
			                    <div id="chart_round_room_nw" style="min-width: 310px; height: 400px; margin: 0 auto"></div>
			                  </div>
			                  <!-- /.chart-responsive -->
			                </div>
			                <!-- /.col -->
			                <div class="col-md-4">
			                  <p class="text-center">
			                    <strong>Analysis Results</strong>
			                  </p>
			
			                  <!-- DIRECT CHAT -->
				              <div class="box box-warning direct-chat direct-chat-warning">
				                <div class="box-header with-border">
				                  <h3 class="box-title">Recommendations</h3>
				                  <div class="box-tools pull-right">
				                    <span data-toggle="tooltip" title="3 New Messages" id="tooltip_round_room_nw"  class="badge bg-yellow">3</span>
				                    <button type="button" class="btn btn-box-tool" data-widget="collapse"><i class="fa fa-minus"></i>
				                    </button>
				                    <button type="button" class="btn btn-box-tool" data-toggle="tooltip" title="Recommendations" data-widget="chat-pane-toggle">
				                      <i class="fa fa-comments"></i></button>
				                    <button type="button" class="btn btn-box-tool" data-widget="remove"><i class="fa fa-times"></i>
				                    </button>
				                  </div>
				                </div>
				                <!-- /.box-header -->
				                <div class="box-body">
				                  <!-- Conversations are loaded here -->
				                  <div id="box_round_room_nw" class="direct-chat-messages">
				                  </div>
				                  <!--/.direct-chat-messages-->
				
				                </div>
				                <!-- /.box-body -->
				              </div>
				              <!--/.direct-chat -->
			                </div>
			                <!-- /.col -->
			              </div>
			              <!-- /.row -->
			            </div>
			            <!-- ./box-body -->
			            
			          </div>
			          <!-- /.box -->
			        </div>
			        <!-- /.col -->
			      </div>
			      <!-- /.row -->	
			      
			      
			       <div class="row">
			        <div class="col-md-12">
			          <div class="box">
			            <div class="box-header with-border">
			              <h3 class="box-title">Monthly Recap Report</h3>
			            </div>
			            <!-- /.box-header -->
			            <div class="box-body">
			              <div class="row">
			                <div class="col-md-8">
			                  <div class="chart">
			                    <!-- Sales Chart Canvas -->
			                    <div id="chart_round_room_sw" style="min-width: 310px; height: 400px; margin: 0 auto"></div>
			                  </div>
			                  <!-- /.chart-responsive -->
			                </div>
			                <!-- /.col -->
			                <div class="col-md-4">
			                  <p class="text-center">
			                    <strong>Analysis Results</strong>
			                  </p>
			
			                  <!-- DIRECT CHAT -->
				              <div class="box box-warning direct-chat direct-chat-warning">
				                <div class="box-header with-border">
				                  <h3 class="box-title">Recommendations</h3>
				                  <div class="box-tools pull-right">
				                    <span data-toggle="tooltip" title="3 New Messages"  id="tooltip_round_room_sw"  class="badge bg-yellow">3</span>
				                    <button type="button" class="btn btn-box-tool" data-widget="collapse"><i class="fa fa-minus"></i>
				                    </button>
				                    <button type="button" class="btn btn-box-tool" data-toggle="tooltip" title="Recommendations" data-widget="chat-pane-toggle">
				                      <i class="fa fa-comments"></i></button>
				                    <button type="button" class="btn btn-box-tool" data-widget="remove"><i class="fa fa-times"></i>
				                    </button>
				                  </div>
				                </div>
				                <!-- /.box-header -->
				                <div class="box-body">
				                  <!-- Conversations are loaded here -->
				                  <div id="box_round_room_sw" class="direct-chat-messages">
				                  </div>
				                  <!--/.direct-chat-messages-->
				                </div>
				                <!-- /.box-body -->
				              </div>
				              <!--/.direct-chat -->
			                </div>
			                <!-- /.col -->
			              </div>
			              <!-- /.row -->
			            </div>
			            <!-- ./box-body -->
			            
			          </div>
			          <!-- /.box -->
			        </div>
			        <!-- /.col -->
			      </div>
			      <!-- /.row -->	
			      
			       <div class="row">
			        <div class="col-md-12">
			          <div class="box">
			            <div class="box-header with-border">
			              <h3 class="box-title">Monthly Recap Report</h3>
			            </div>
			            <!-- /.box-header -->
			            <div class="box-body">
			              <div class="row">
			                <div class="col-md-8">
			                  <div class="chart">
			                    <!-- Sales Chart Canvas -->
			                    <div id="chart_family_e" style="min-width: 310px; height: 400px; margin: 0 auto"></div>
			                  </div>
			                  <!-- /.chart-responsive -->
			                </div>
			                <!-- /.col -->
			                <div class="col-md-4">
			                  <p class="text-center">
			                    <strong>Analysis Results</strong>
			                  </p>
			
			                  <!-- DIRECT CHAT -->
				              <div class="box box-warning direct-chat direct-chat-warning">
				                <div class="box-header with-border">
				                  <h3 class="box-title">Recommendations</h3>
				                  <div class="box-tools pull-right">
				                    <span data-toggle="tooltip" title="3 New Messages" id="tooltip_family_e"  class="badge bg-yellow">3</span>
				                    <button type="button" class="btn btn-box-tool" data-widget="collapse"><i class="fa fa-minus"></i>
				                    </button>
				                    <button type="button" class="btn btn-box-tool" data-toggle="tooltip" title="Recommendations" data-widget="chat-pane-toggle">
				                      <i class="fa fa-comments"></i></button>
				                    <button type="button" class="btn btn-box-tool" data-widget="remove"><i class="fa fa-times"></i>
				                    </button>
				                  </div>
				                </div>
				                <!-- /.box-header -->
				                <div class="box-body">
				                  <!-- Conversations are loaded here -->
				                  <div id="box_family_e" class="direct-chat-messages">
				                  </div>
				                  <!--/.direct-chat-messages-->
				                </div>
				                <!-- /.box-body -->
				              </div>
				              <!--/.direct-chat -->
			                </div>
			                <!-- /.col -->
			              </div>
			              <!-- /.row -->
			            </div>
			            <!-- ./box-body -->
			            
			          </div>
			          <!-- /.box -->
			        </div>
			        <!-- /.col -->
			      </div>
			      <!-- /.row -->			    
				    
				  </div>
				  <!-- /.box-body -->
				</div>
				<!-- /.box -->																																			<!-- /.row -->
			</section>
			<!-- /.content -->
		</div>
		<!-- /.content-wrapper -->

		<!-- Main Footer -->
		<footer class="main-footer">
			<!-- To the right -->
			<div class="pull-right hidden-xs">Anything you want</div>
			<!-- Default to the left -->
			<strong>Copyright &copy; 2015 <a href="#">Company</a>.
			</strong> All rights reserved.
		</footer>

		<!-- Control Sidebar -->
		<aside class="control-sidebar control-sidebar-dark">
			<!-- Create the tabs -->
			<ul class="nav nav-tabs nav-justified control-sidebar-tabs">
				<li class="active"><a href="#control-sidebar-home-tab"
					data-toggle="tab"><i class="fa fa-home"></i></a></li>
				<li><a href="#control-sidebar-settings-tab" data-toggle="tab"><i
						class="fa fa-gears"></i></a></li>
			</ul>
			<!-- Tab panes -->
			<div class="tab-content">
				<!-- Home tab content -->
				<div class="tab-pane active" id="control-sidebar-home-tab">
					<h3 class="control-sidebar-heading">Recent Activity</h3>
					<ul class="control-sidebar-menu">
						<li><a href="javascript::;"> <i
								class="menu-icon fa fa-birthday-cake bg-red"></i>

								<div class="menu-info">
									<h4 class="control-sidebar-subheading">Langdon's Birthday</h4>

									<p>Will be 23 on April 24th</p>
								</div>
						</a></li>
					</ul>
					<!-- /.control-sidebar-menu -->

					<h3 class="control-sidebar-heading">Tasks Progress</h3>
					<ul class="control-sidebar-menu">
						<li><a href="javascript::;">
								<h4 class="control-sidebar-subheading">
									Custom Template Design <span
										class="label label-danger pull-right">70%</span>
								</h4>

								<div class="progress progress-xxs">
									<div class="progress-bar progress-bar-danger"
										style="width: 70%"></div>
								</div>
						</a></li>
					</ul>
					<!-- /.control-sidebar-menu -->

				</div>
				<!-- /.tab-pane -->
				<!-- Stats tab content -->
				<div class="tab-pane" id="control-sidebar-stats-tab">Stats Tab
					Content</div>
				<!-- /.tab-pane -->
				<!-- Settings tab content -->
				<div class="tab-pane" id="control-sidebar-settings-tab">
					<form method="post">
						<h3 class="control-sidebar-heading">General Settings</h3>

						<div class="form-group">
							<label class="control-sidebar-subheading"> Report panel
								usage <input type="checkbox" class="pull-right" checked>
							</label>

							<p>Some information about this general settings option</p>
						</div>
						<!-- /.form-group -->
					</form>
				</div>
				<!-- /.tab-pane -->
			</div>
		</aside>
		<!-- /.control-sidebar -->
		<!-- Add the sidebar's background. This div must be placed
     immediately after the control sidebar -->
		<div class="control-sidebar-bg"></div>
	</div>
	<!-- ./wrapper -->

	<!-- REQUIRED JS SCRIPTS -->

	<!-- jQuery 2.2.0 -->
	<script src="lib/jQuery-2.2.0.min.js"></script>
	<!-- Bootstrap 3.3.6 -->
	<script src="bootstrap/js/bootstrap.min.js"></script>
	<!-- AdminLTE App -->
	<script src="dist/js/app.min.js"></script>
	<!-- Angular JS -->
	<script
		src="http://ajax.googleapis.com/ajax/libs/angularjs/1.4.8/angular.min.js"></script>

	<script src="lib/highcharts.js"></script>
	<script src="lib/sockjs-0.3.4.js"></script>
	<script src="lib/stomp.js"></script>
	<script src="lib/mqttws31.js"></script>
	<style>
	.direct-chat-msg .left{
		margin: 5px 0 0 5px !important;
	}
	.direct-chat-msg .right{
		margin-right: 5px !important;
	}
	</style>
	<script>
	var app = angular.module("myApp", []);
	$(function () {
	    $('#container').highcharts({
	        title: {
	            text: 'Light Utilization'
	        },
	        xAxis: {
	        	type: 'datetime',
	            categories: ['Light On/Off Time', 'Sunrise/Sunset']
	        }, 
	        series: [{
	            type: 'area',
	            name: 'Light On/Off Time',
	            data: [1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,0,1,1,1,1]
	        }, {
	            type: 'spline',
	            name: 'Sunrise/Sunset',
	            data: [0.2,0.2,0.2,0.2, 1,1,1,1,1,1,1,1,1, 0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2],
	            marker: {
	                lineWidth: 2,
	                lineColor: Highcharts.getOptions().colors[3],
	                fillColor: 'white'
	            }
	        }]
	    });
	});


var host = 'whipple.dyndns-home.com';
Highcharts.setOptions({global: { useUTC: false } });
var recommendationCounter = 0;

//var location = {hostname:scope.host,port:1884};
var stompClient = null;
//list of deviceIds
var deviceIds = ["family_couch_e","horse_picture","aspen","family_w","family_couch_w","family_tv","round_room_e","round_room_nw","round_room_sw","family_e"];
client = new Paho.MQTT.Client(host, Number(1884), "clientId"+ parseInt(Math.random() * 100, 10));//+ parseInt(Math.random() * 100, 10)
client.onConnectionLost = onConnectionLost;
client.onMessageArrived = onMessageArrived;
var options = {
		timeout: 3,
		onSuccess: onConnect,
		onFailure: function (message) {
			console.log("Connection failed: " + message.errorMessage);
		}
};

client.connect(options);

function onConnect() {
	console.log('Connected to remote system:'+host+':1884');
	message = new Paho.MQTT.Message("Web Subscriber Started");
		message.destinationName = "topic";
		client.send(message); 
		client.subscribe("topic");
}

function onConnectionLost(responseObject) {
	console.log('Connection Lost.......'+JSON.stringify(responseObject));
                client.connect({onSuccess:onConnect});

		//if (responseObject.errorCode !== 0) {
			//console.log("onConnectionLost:"+responseObject.errorMessage);
		//}
}

function onMessageArrived(message) {
	
	var msg = JSON.parse(message.payloadString);
	console.log(msg);
	var light = msg.name;
	if(msg.hasOwnProperty("client") && msg.hasOwnProperty("name")){
		var light = msg.name;
		if(light){
			//console.log('Light:'+light+' State:'+msg.state);
			var state = msg.state;
			var id = light.toLowerCase().replace(" ","").replace(" ","");
			//console.log("id", id);
			var set1 = document.getElementById(id);
			//console.log("doc", set1)
			if(set1){
				if(state!='Red'){
	       			set1.src = "dist/img/bulb_PNG1244.png";
		   		}
		   		else{
		   			set1.src = "dist/img/bulb_PNG1243.png";
		   		}
			}
		}
	}
}
	
	
function connectWebSocket() {
    var socket = new SockJS('/light');
    stompClient = Stomp.over(socket);            
    stompClient.connect({}, function(frame) {
        //setConnected(true);
        //console.log('Connected: ' + frame);
        stompClient.subscribe('/topic/light/general', function(data){
        	processGeneralLightInformation(data);
        });
        stompClient.subscribe('/topic/light/get-light-recommendation', function(data){
        	processLightRecommendation(data);
        });
        
        requestLightInformation();
    });

}

function disconnectWebSocket() {
    if (stompClient != null) {
        stompClient.disconnect();
    }
    //setConnected(false);
    console.log("Disconnected");
}

function processLightRecommendation(data){
	var jsonObj = JSON.parse(data.body);
	//console.log("test", jsonObj);
	var deviceId = jsonObj.deviceID;
	//console.log("deviceId", deviceId);
	if(recommendationCounter%2 == 0){
		//add left
		addRecommendationToBox(deviceId, 0, jsonObj);	
	}else{
		//add right
		addRecommendationToBox(deviceId, 1, jsonObj);
	}
}

function addRecommendationToBox(boxId, lr, data){
	//console.log("TEST", data);
	
	var content = "<p>On Time : " + data.onTimeInHours + " hrs</p>"
				+ "<p>On Time : " + data.onTimeInPercent + "% </p>"
				+ "<p>Power Usage : " + data.onTimeUsageInWatts + "W </p>"
				+ "<p>Power Usage : " + data.onTimeInHours + "% </p>"
				+ "<p>Power Wastage : " + data.wasteTimeUsageInWatts + "W </p>"
				+ "<p>Power Wastage : " + data.wasteTimeInPercent + "% </p>";
	var timestamp = new Date(data.timestamp);
	var css = "pull-right";
	var css2 = "right";
	if(lr==0){
		css = "pull-left";
		css2 = "right";
	}else{
		css = "pull-right";
		css2 = "left";
	}
	var message = data;
	//var date = new Date();
    var myhtml = '<div class="direct-chat-msg ' + css2+ '"><div class="direct-chat-info clearfix">'
	         + '<span class="direct-chat-timestamp ' + css +'">' + timestamp +'</span>'
		     + '</div>'
	         + '<div class="direct-chat-text">'
			 + content
			 + '</div>'
			 + '</div>';
			 //console.log("html", myhtml);
			 //var el = document.createElement("div");
			 //el.innerHtml = myhtml;
	if(!data.hasOwnProperty('Error')){
		//document.getElementById('box_'+boxId).innerHTML = myhtml + document.getElementById('box_'+boxId).innerHTML;
    	$("#box_"+boxId).prepend(myhtml);
    	var count = 1 + parseInt(document.getElementById('tooltip_'+boxId).innerHTML);
    	document.getElementById('tooltip_'+boxId).innerHTML = count;    	
    	var mess;
    	if(parseInt(count) == 1) 
    		mess = count + " New Message";
    	else 
    		mess = count + " New Messages"; 
    	$('#tooltip_'+boxId)
        .attr('title', mess)
        .tooltip('fixTitle')
        .tooltip('setContent');
    	//document.getElementById('tooltip_'+boxId).title = mess;
	}
}

function processGeneralLightInformation(data){
	
	//console.log("Data", data);
    if(data != null){
    	  if(data.body != null){
    		  var jsonObj = JSON.parse(data.body);
    		  var chartForDeviceName = jsonObj.tags.name[0];//camelCase(jsonObj.name);
    		  var val = jsonObj.values;
    		  //get the chartid and the deviceId from the json
    		  var chartId = jsonObj.chartId;
    		  var deviceId = jsonObj.deviceId;
    		  //console.log("chartId", chartId);
    		  //console.log("deviceId", deviceId);
    		  
    		  var seriesArray = [{
  	            type: 'spline',
  	            name: 'Light On/Off Time',
  	            data: val
  	        }, {
  	            type: 'spline',
  	            name: 'Sunrise/Sunset',
  	            data: generateDataPointsForToday(),//[0.2,0.2,0.2,0.2, 1,1,1,1,1,1,1,1,1, 0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2],
  	            marker: {
  	                lineWidth: 2,
  	                lineColor: Highcharts.getOptions().colors[3],
  	                fillColor: 'white'
  	            }
  	        }];
    		  var newChartId = "chart_"+deviceId;
    		  //console.log(newChartId, seriesArray);
			updateChart(newChartId, chartForDeviceName, seriesArray);
    		  
    	  }
    }
}

function generateDataPointsForToday(){
	var startTime = new Date();
	startTime = startTime.setHours(0,0,0,0);
	
	var endTime = new Date();
	endTime = endTime.setHours(23,59,59,0);
	
	var sunriseTime = (new Date()).setHours(5,44,0,0);
	var sunsetTime = (new Date()).setHours(20,8,0,0);
	var seriesArray = [];
	for(i = startTime; i < endTime; i=i+3600000){
		//make series graph
		//increment by 60 * 60 * 1000
		var tempArray = []; 
		if(i > sunriseTime && i < sunsetTime){
			//increment the values
			tempArray = [i, 1];
		}else{
			tempArray = [i, 0];
			
		}
		seriesArray.push(tempArray);
	}
	return seriesArray;
}

function camelCase(input) { 
    return input.toLowerCase().replace(/_(.)/g, function(match, group1) {
        return group1.toUpperCase();
    });
}

function updateChart(chartId, chartForDeviceName, seriesArray){
	 //console.log(seriesArray);
	        $('#'+chartId).highcharts({
	            title: {
	                text: 'Light utilization for - ' + chartForDeviceName
	            },
	            xAxis: {
	            	type:'datetime'
	            }, 
		          yAxis: { title: { text: 'On/Off' }, labels:{format:'{value}'}, min:0, max:1.25 },
				  tooltip: {
				        pointFormat: "Light: {point.y:.1f}"
				    },
	                series: seriesArray
	          });
	}


function requestLightInformation(){
	//initialize the tooltips
	initializeTooltips();
	sendLightInformation();
	requestLightRecommendation();
	setInterval(sendLightInformation, 10000);
	setInterval(requestLightRecommendation, 15000);
}

function initializeTooltips() {
    //list of id's in for loop 
    for(var x = 0; x < deviceIds.length; x++){
  	  //send for general requests
  	  var deviceId = deviceIds[x];
  	  var id = "tooltip_"+deviceId;
       document.getElementById(id).innerHTML = 0;
    }
}


function sendLightInformation() {
    //list of id's in for loop 
    for(var x = 0; x < deviceIds.length; x++){
  	  //send for general requests
  	  var id = deviceIds[x];
        stompClient.send("/app/light/general/deviceId/"+id, {});
    }
}

function requestLightRecommendation(){
	//increment recommendationCounter
	recommendationCounter++;
    //list of id's in for loop 
    for(var x = 0; x < deviceIds.length; x++){
  	  //send for general requests
  	  var id = deviceIds[x];
        stompClient.send("/app/light/get-light-recommendation/deviceId/"+id, {});
    }
	
}

connectWebSocket();

</script>
</body>
</html>
